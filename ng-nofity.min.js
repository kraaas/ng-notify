(function(a,b){if(typeof module!=="undefined"&&module.exports){if(typeof angular==="undefined"){b(require("angular"))}else{b(angular)}}else{if(typeof define==="function"&&define.amd){define(["angular"],b)}else{b(a.angular)}}}(this,function(g){var b=g.module("ng.notify",[]);b.run(["$templateCache",i]);b.factory("notifyFactory",["$rootScope","$compile","$templateCache","$interval","$timeout",a]);b.provider("ngNotify",h);var f="templates/ng-notify/notify.html";var d={title:"",content:"",top:"20px",position:"top",onOk:g.noop,onCancle:g.noop,okText:"确认",cancleText:"取消",showOk:true,showCancle:false,showTitle:true,className:"top",};var e={"open":"","info":"&#451;","success":"&#10003;","wraning":"&#451;","error":"&#215;"};var j;function h(){this.config=function(k){g.extend(d,k)};this.$get=["notifyFactory",function(k){return{open:function(l){return new k("open",l)},info:function(l){return new k("info",l)},success:function(l){return new k("success",l)},error:function(l){return new k("error",l)},warn:function(l){return new k("warn",l)}}}]}function a(l,n,k,q,m){function o(r,s){this.type=r;this.opts=g.copy(s);this.init()}var p=o.prototype;p.init=function(){this.scope=this.createScope();this.initData();this.compile();this.mount();if(this.vm.duration){this.setTimeout()}};p.initData=function(){var r=this;g.extend(this.vm,d,this.opts);this.vm.close=this.close.bind(this);this.vm.okHandel=function(){this.vm.onOk.call(this)};this.vm.icon=e[this.type];this.vm.iconClass=this.type};p.createScope=function(){var r=l.$new();this.vm=r.vm={};return r};p.compile=function(){this.template=n(k.get(f))(this.scope)};p.mount=function(r){var s=this;if(!j){j=c(this.vm.className)}j.prepend(this.template.eq(0));setTimeout(function(){s.template.addClass("slide_in")},0)};p.setTimeout=function(){var r=this;this.timer=m(function(){r.close()},this.vm.duration)};p.close=function(){var r=this;this.template.removeClass("slide_in");setTimeout(function(){r.template.remove()},300);if(this.timer){clearTimeout(this.timer)}};return o}function i(k){var l=['<li class="noitfy_item">','<div class="notify_header" ng-if="vm.showTitle">{{vm.title}}</div>','<div class="notify_content">{{vm.content}}</div>','<div class="notify_footer">','<button class="notify_btn" ng-if="vm.showCancle" ng-click="vm.onCancle()">{{vm.cancleText}}</button>','<button class="notify_btn notify_btn--success" ng-if="vm.showOk" ng-click="vm.onOk()">{{vm.okText}}</button>',"</div>",'<span class="notify_close" ng-click="vm.close()">x</span>'+"</li>"].join("");k.put(f,l)}function c(k){var l=g.element(document.createElement("ul"));l.addClass("notify "+k);g.element("body").append(l);return l}}));